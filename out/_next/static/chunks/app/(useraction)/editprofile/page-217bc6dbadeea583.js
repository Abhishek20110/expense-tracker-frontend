(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{46231:(e,t,l)=>{Promise.resolve().then(l.bind(l,95148))},76046:(e,t,l)=>{"use strict";var a=l(66658);l.o(a,"usePathname")&&l.d(t,{usePathname:function(){return a.usePathname}}),l.o(a,"useRouter")&&l.d(t,{useRouter:function(){return a.useRouter}})},95148:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>o});var a=l(95155),s=l(12115),r=l(82651),n=l(76046);let o=()=>{let[e,t]=(0,s.useState)(null),[l,o]=(0,s.useState)(""),[i,u]=(0,s.useState)(""),[d,c]=(0,s.useState)(""),[m,h]=(0,s.useState)(null),[x,b]=(0,s.useState)(!0),[f,g]=(0,s.useState)(null),p="http://localhost:8080",v=(0,n.useRouter)();(0,s.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("token");if(!e){h("Authorization token is missing"),b(!1),v.push("/login");return}let l=(await r.A.get("".concat(p,"/api/users/users/mydetails"),{headers:{Authorization:"Bearer ".concat(e)}})).data.data;t(l),o(l.name),u(l.email),c(l.phone)}catch(e){h("Failed to fetch user data")}finally{b(!1)}})()},[p,v]);let N=async e=>{e.preventDefault(),h(null),g(null);try{let e=localStorage.getItem("token");if(!e){h("Authorization token is missing"),v.push("/login");return}let t=await r.A.put("".concat(p,"/api/users/edit"),{name:l,email:i,phone:d},{headers:{Authorization:"Bearer ".concat(e)}});200===t.status&&g("Profile updated successfully!")}catch(e){h("Failed to update profile")}};return x?(0,a.jsx)("div",{children:"Loading..."}):m?(0,a.jsx)("div",{className:"text-red-500 text-center",children:m}):(0,a.jsx)("div",{className:"flex justify-center items-center h-screen w-full bg-gradient-to-r from-pink-100 via-purple-100 to-indigo-100",children:(0,a.jsxs)("div",{className:"max-w-xl w-full p-6 bg-white rounded-xl shadow-lg",children:["   ",(0,a.jsx)("h1",{className:"text-4xl font-bold text-center mb-8 text-purple-900",children:"Edit Profile"}),f&&(0,a.jsx)("div",{className:"text-green-600 text-center mb-4",children:f}),m&&(0,a.jsx)("div",{className:"text-red-600 text-center mb-4",children:m}),(0,a.jsxs)("form",{onSubmit:N,children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-lg font-semibold text-indigo-800 mb-2",children:"Name"}),(0,a.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-lg font-semibold text-indigo-800 mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",value:i,onChange:e=>u(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-lg font-semibold text-indigo-800 mb-2",children:"Phone"}),(0,a.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{type:"submit",className:"px-6 py-3 text-white bg-gradient-to-r from-green-400 to-blue-500 rounded-full hover:from-green-500 hover:to-blue-600 transition duration-300",children:"Update Profile"})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[651,441,517,358],()=>t(46231)),_N_E=e.O()}]);