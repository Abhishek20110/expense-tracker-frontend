(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{89336:(e,t,s)=>{Promise.resolve().then(s.bind(s,45915))},76046:(e,t,s)=>{"use strict";var r=s(66658);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},45915:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(95155),a=s(12115),l=s(82651),n=s(76046);let o=()=>{let[e,t]=(0,a.useState)(""),[s,o]=(0,a.useState)(""),[u,d]=(0,a.useState)(null),[i,c]=(0,a.useState)(null),[h,m]=(0,a.useState)(!1),g=(0,n.useRouter)(),b=async r=>{if(r.preventDefault(),d(null),c(null),m(!0),s.length<6){d("New password must be at least 6 characters long"),m(!1);return}try{let r=localStorage.getItem("token");if(!r){d("Authorization token is missing"),g.push("/login");return}let a=await l.A.put("".concat("http://localhost:8080","/api/users/changepassword"),{oldPassword:e,newPassword:s},{headers:{Authorization:"Bearer ".concat(r)}});200===a.status&&(c("Password changed successfully!"),t(""),o(""))}catch(e){d("Failed to change password. Please try again.")}finally{m(!1)}};return(0,r.jsx)("div",{className:"flex justify-center items-center h-screen w-full bg-gradient-to-r from-pink-100 via-purple-100 to-indigo-100",children:(0,r.jsxs)("div",{className:"max-w-xl w-full p-6 bg-white rounded-xl shadow-lg",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-center mb-8 text-purple-900",children:"Change Password"}),i&&(0,r.jsx)("div",{className:"text-green-600 text-center mb-4",children:i}),u&&(0,r.jsx)("div",{className:"text-red-600 text-center mb-4",children:u}),(0,r.jsxs)("form",{onSubmit:b,children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-lg font-semibold text-indigo-800 mb-2",htmlFor:"oldPassword",children:"Old Password"}),(0,r.jsx)("input",{id:"oldPassword",type:"password",value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-lg font-semibold text-indigo-800 mb-2",htmlFor:"newPassword",children:"New Password"}),(0,r.jsx)("input",{id:"newPassword",type:"password",value:s,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("button",{type:"submit",className:"px-6 py-3 text-white bg-gradient-to-r from-green-400 to-blue-500 rounded-full hover:from-green-500 hover:to-blue-600 transition duration-300 ".concat(h?"opacity-70 cursor-not-allowed":""),disabled:h,children:h?"Changing...":"Change Password"})})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[651,441,517,358],()=>t(89336)),_N_E=e.O()}]);